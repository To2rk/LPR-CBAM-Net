# 车牌检测与识别

## **1. 检测模块**

- **存放目录结构及命名**

```bash 
Yolov5-Attention-Detection/
    - data
      -- YOLO_CCPD
        --- ccpd_base
          ---- images
            ----- train
              ****** 01-86_91-298&341_449&414-458&394_308&410_304&357_454&341-0_0_14_28_24_26_29-124-24.jpg
              ****** 01-89_90-302&482_487&539-497&538_295&550_294&490_496&478-0_0_30_25_29_31_24-130-26.jpg
              ****** 0116127873564-90_91-366&550_554&621-563&618_372&615_376&552_567&555-0_0_2_2_27_30_24-90-21.jpg
              ****** 0116127873564-90_88-284&485_480&550-489&542_294&550_279&483_474&475-0_0_19_30_33_30_26-122-33.jpg

            ----- val
              ****** 01-90_85-274&361_472&420-475&416_277&422_271&357_469&351-0_0_25_29_33_26_30-165-31.jpg
              ****** 021875-85_94-268&364_483&464-493&435_271&459_276&373_498&349-0_0_24_24_2_27_25-138-17.jpg
              ****** 019375-90_88-223&491_503&573-503&575_225&570_225&493_503&498-0_0_15_24_17_32_33-104-30.jpg
              ****** 020625-89_89-204&468_487&544-499&548_191&556_197&464_505&456-0_0_15_27_25_33_31-147-44.jpg

          ---- labels
            ----- train
              ****** 01-86_91-298&341_449&414-458&394_308&410_304&357_454&341-0_0_14_28_24_26_29-124-24.txt
              ****** 01-89_90-302&482_487&539-497&538_295&550_294&490_496&478-0_0_30_25_29_31_24-130-26.txt
              ****** 0116127873564-90_91-366&550_554&621-563&618_372&615_376&552_567&555-0_0_2_2_27_30_24-90-21.txt
              ****** 0116127873564-90_88-284&485_480&550-489&542_294&550_279&483_474&475-0_0_19_30_33_30_26-122-33.txt

            ----- val
              ****** 01-90_85-274&361_472&420-475&416_277&422_271&357_469&351-0_0_25_29_33_26_30-165-31.txt
              ****** 021875-85_94-268&364_483&464-493&435_271&459_276&373_498&349-0_0_24_24_2_27_25-138-17.txt
              ****** 019375-90_88-223&491_503&573-503&575_225&570_225&493_503&498-0_0_15_24_17_32_33-104-30.txt
              ****** 020625-89_89-204&468_487&544-499&548_191&556_197&464_505&456-0_0_15_27_25_33_31-147-44.txt
        *** ccpd_base.yaml

# 约定：
#      - 表示目录
#      * 表示文件

```

- **训练**

```bash
cd Yolov5-Attention-Detection/
python train.py --data data/YOLO_CCPD/ccpd_base/ccpd_base.yaml --weights weights/yolov5s.pt  
```

- **测试**

```bash
cd Yolov5-Attention-Detection/
python test.py --data data/YOLO_CCPD/ccpd_base/ccpd_base.yaml --weights weights/yolov5s.pt
```

## **2. 识别模块**
**LPR-Attention-Recognition**

### **数据集**

- **存放目录结构及命名**

```bash 
LPR-Attention-Recognition/
    - data
      -- CCPD
        --- ccpd_base
          ---- train
            ***** 皖AVS180.0.jpg       # 表示车牌为 皖AVS180 的第1张车牌
            ***** 皖AVS180.1.jpg       # 表示车牌为 皖AVS180 的第2张车牌
            ***** 皖NW905J.0.jpg
            ***** 甘AA1086.0.jpg
          ---- test
            ***** 皖AM9V86.0.jpg
            ***** 川AX0Z19.0.jpg
            ***** 川AX0Z19.1.jpg
            ***** 川FNH603.0.jpg
      ** load_data.py
    - model
    - result
    - weight
    * train.py
    * test.py

# 约定：
#      - 表示目录
#      * 表示文件

```

- **训练**

正确放置数据集后，开始训练

```bash
cd LPR-Attention-Recognition/
python train.py
# 训练好的权重存放在 weight/ 目录
```

- **测试**

```bash
cd LPR-Attention-Recognition/
python test.py --pretrained_model ./weight/LPRAtt_iteration_2000.pth
# 使用训练好的权重进行推理预测
```


